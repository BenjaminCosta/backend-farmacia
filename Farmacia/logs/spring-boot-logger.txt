2025-11-27T20:15:15.895-03:00  INFO 3203 --- [Farmacia] [restartedMain] c.e.u.tpo.Farmacia.FarmaciaApplication   : Starting FarmaciaApplication using Java 17.0.16 with PID 3203 (/Users/benjacosta/Documents/FarmaciaTPO/Farmacia/target/classes started by benjacosta in /Users/benjacosta/Documents/FarmaciaTPO/Farmacia)
2025-11-27T20:15:15.899-03:00 DEBUG 3203 --- [Farmacia] [restartedMain] c.e.u.tpo.Farmacia.FarmaciaApplication   : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-11-27T20:15:15.900-03:00  INFO 3203 --- [Farmacia] [restartedMain] c.e.u.tpo.Farmacia.FarmaciaApplication   : No active profile set, falling back to 1 default profile: "default"
2025-11-27T20:15:15.937-03:00  INFO 3203 --- [Farmacia] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-27T20:15:15.937-03:00  INFO 3203 --- [Farmacia] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-27T20:15:16.908-03:00  INFO 3203 --- [Farmacia] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-27T20:15:16.997-03:00  INFO 3203 --- [Farmacia] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 76 ms. Found 9 JPA repository interfaces.
2025-11-27T20:15:17.625-03:00  INFO 3203 --- [Farmacia] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 4002 (http)
2025-11-27T20:15:17.640-03:00  INFO 3203 --- [Farmacia] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-11-27T20:15:17.640-03:00  INFO 3203 --- [Farmacia] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-11-27T20:15:17.679-03:00  INFO 3203 --- [Farmacia] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-11-27T20:15:17.680-03:00  INFO 3203 --- [Farmacia] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1742 ms
2025-11-27T20:15:18.014-03:00  INFO 3203 --- [Farmacia] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-27T20:15:18.161-03:00  INFO 3203 --- [Farmacia] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.22.Final
2025-11-27T20:15:18.200-03:00  INFO 3203 --- [Farmacia] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-27T20:15:18.476-03:00  INFO 3203 --- [Farmacia] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-27T20:15:18.505-03:00  INFO 3203 --- [Farmacia] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-27T20:15:18.508-03:00  WARN 3203 --- [Farmacia] [restartedMain] c.zaxxer.hikari.util.DriverDataSource    : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2025-11-27T20:15:18.938-03:00  INFO 3203 --- [Farmacia] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2339b127
2025-11-27T20:15:18.945-03:00  INFO 3203 --- [Farmacia] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-27T20:15:19.033-03:00  WARN 3203 --- [Farmacia] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-27T20:15:19.034-03:00  WARN 3203 --- [Farmacia] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-11-27T20:15:19.058-03:00  INFO 3203 --- [Farmacia] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-27T20:15:20.229-03:00  INFO 3203 --- [Farmacia] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-27T20:15:20.524-03:00  INFO 3203 --- [Farmacia] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-27T20:15:20.912-03:00 DEBUG 3203 --- [Farmacia] [restartedMain] c.e.u.t.F.s.JwtAuthenticationFilter      : Filter 'jwtAuthenticationFilter' configured for use
2025-11-27T20:15:20.913-03:00 DEBUG 3203 --- [Farmacia] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-11-27T20:15:21.596-03:00  INFO 3203 --- [Farmacia] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-27T20:15:22.226-03:00  INFO 3203 --- [Farmacia] [restartedMain] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-11-27T20:15:22.227-03:00  WARN 3203 --- [Farmacia] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-27T20:15:22.269-03:00  WARN 3203 --- [Farmacia] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-27T20:15:22.409-03:00 DEBUG 3203 --- [Farmacia] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 49 mappings in 'requestMappingHandlerMapping'
2025-11-27T20:15:22.528-03:00 DEBUG 3203 --- [Farmacia] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-11-27T20:15:22.646-03:00  INFO 3203 --- [Farmacia] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-11-27T20:15:22.848-03:00 DEBUG 3203 --- [Farmacia] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-27T20:15:22.962-03:00 DEBUG 3203 --- [Farmacia] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-27T20:15:23.021-03:00 DEBUG 3203 --- [Farmacia] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-27T20:15:23.208-03:00  INFO 3203 --- [Farmacia] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-11-27T20:15:23.280-03:00  INFO 3203 --- [Farmacia] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 4002 (http) with context path '/'
2025-11-27T20:15:23.299-03:00  INFO 3203 --- [Farmacia] [restartedMain] c.e.u.tpo.Farmacia.FarmaciaApplication   : Started FarmaciaApplication in 7.87 seconds (process running for 8.234)
2025-11-27T20:16:04.750-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-27T20:16:04.751-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-11-27T20:16:04.752-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-11-27T20:16:04.752-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-11-27T20:16:04.752-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-11-27T20:16:04.754-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@55fc06fb
2025-11-27T20:16:04.755-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@361ea326
2025-11-27T20:16:04.756-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-11-27T20:16:04.756-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-11-27T20:16:04.808-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/products?categoryId=1
2025-11-27T20:16:04.808-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/categories
2025-11-27T20:16:04.904-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:16:04.904-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:16:04.914-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/products?categoryId=1
2025-11-27T20:16:04.914-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/categories
2025-11-27T20:16:04.920-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/products?categoryId=1", parameters={masked}
2025-11-27T20:16:04.920-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/categories", parameters={}
2025-11-27T20:16:04.923-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ProductController#list(Long, String, Boolean, Boolean)
2025-11-27T20:16:04.923-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.CategoryControllers#getAll()
2025-11-27T20:16:04.941-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-2] c.e.u.t.F.c.CategoryControllers          : GET /categories - Fetching all categories
2025-11-27T20:16:04.943-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] c.e.u.t.F.service.CategoryService        : Fetching all categories
2025-11-27T20:16:04.952-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-1] c.e.u.t.F.controllers.ProductController  : GET /products - categoryId: 1, q: 'null', inStock: null, rx: null
2025-11-27T20:16:04.953-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] c.e.u.t.Farmacia.service.ProductService  : Listing products with filters - categoryId: 1, query: 'null', inStock: null, rx: null
2025-11-27T20:16:04.953-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] c.e.u.t.Farmacia.service.ProductService  : Filtering by category ID: 1
2025-11-27T20:16:04.963-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-2] c.e.u.t.F.service.CategoryService        : Found 4 categories
2025-11-27T20:16:04.966-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-2] c.e.u.t.F.c.CategoryControllers          : Found 4 categories
2025-11-27T20:16:04.972-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-1] c.e.u.t.Farmacia.service.ProductService  : Returning 7 products
2025-11-27T20:16:04.974-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-1] c.e.u.t.F.controllers.ProductController  : Found 7 products
2025-11-27T20:16:04.993-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:16:05.003-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductDTO[id=1, name=Ibuprofeno 400mg, description=Caja x 10, price=3500.0, stock=171, discount=0. (truncated)...]
2025-11-27T20:16:05.018-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:16:05.019-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[CategoryResponse[id=1, name=Analg√©sicos y antiinflamatorios, description=Medicamentos de venta libr (truncated)...]
2025-11-27T20:16:05.062-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:05.062-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:05.126-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/products/1/images
2025-11-27T20:16:05.126-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/products/3/images
2025-11-27T20:16:05.127-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/products/4/images
2025-11-27T20:16:05.127-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/products/5/images
2025-11-27T20:16:05.127-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/products/6/images
2025-11-27T20:16:05.127-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/products/14/images
2025-11-27T20:16:05.128-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:16:05.129-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:16:05.129-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:16:05.129-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:16:05.129-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:16:05.129-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:16:05.130-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/products/3/images
2025-11-27T20:16:05.130-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/products/1/images
2025-11-27T20:16:05.130-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/products/4/images
2025-11-27T20:16:05.130-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/products/1/images", parameters={}
2025-11-27T20:16:05.130-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/products/4/images", parameters={}
2025-11-27T20:16:05.130-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/products/5/images
2025-11-27T20:16:05.130-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/products/3/images", parameters={}
2025-11-27T20:16:05.130-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/products/6/images
2025-11-27T20:16:05.131-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/products/5/images", parameters={}
2025-11-27T20:16:05.131-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/products/14/images
2025-11-27T20:16:05.131-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/products/6/images", parameters={}
2025-11-27T20:16:05.132-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ProductImageController#getImageMetadata(Long)
2025-11-27T20:16:05.132-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/products/14/images", parameters={}
2025-11-27T20:16:05.132-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ProductImageController#getImageMetadata(Long)
2025-11-27T20:16:05.132-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ProductImageController#getImageMetadata(Long)
2025-11-27T20:16:05.132-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ProductImageController#getImageMetadata(Long)
2025-11-27T20:16:05.132-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ProductImageController#getImageMetadata(Long)
2025-11-27T20:16:05.132-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ProductImageController#getImageMetadata(Long)
2025-11-27T20:16:05.259-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:16:05.260-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:16:05.259-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:16:05.259-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:16:05.262-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductImageMetadataDTO(id=6, isPrimary=true, width=1024, height=1024, sizeBytes=778975)]]
2025-11-27T20:16:05.262-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductImageMetadataDTO(id=4, isPrimary=true, width=1024, height=1024, sizeBytes=760358)]]
2025-11-27T20:16:05.262-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductImageMetadataDTO(id=10, isPrimary=true, width=1024, height=1024, sizeBytes=848682)]]
2025-11-27T20:16:05.264-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductImageMetadataDTO(id=5, isPrimary=true, width=1024, height=1024, sizeBytes=780428)]]
2025-11-27T20:16:05.268-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:16:05.269-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductImageMetadataDTO(id=11, isPrimary=true, width=1024, height=1024, sizeBytes=836211)]]
2025-11-27T20:16:05.270-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:05.270-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:05.271-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:05.270-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:05.271-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:05.282-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/products/17/images
2025-11-27T20:16:05.285-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:16:05.287-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/products/17/images
2025-11-27T20:16:05.287-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/products/17/images", parameters={}
2025-11-27T20:16:05.289-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ProductImageController#getImageMetadata(Long)
2025-11-27T20:16:05.314-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /images/10?w=800
2025-11-27T20:16:05.314-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /images/4?w=800
2025-11-27T20:16:05.314-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /images/5?w=800
2025-11-27T20:16:05.314-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /images/6?w=800
2025-11-27T20:16:05.315-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:16:05.315-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:16:05.315-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:16:05.315-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:16:05.316-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /images/10?w=800
2025-11-27T20:16:05.316-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /images/4?w=800
2025-11-27T20:16:05.316-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /images/5?w=800
2025-11-27T20:16:05.316-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /images/6?w=800
2025-11-27T20:16:05.317-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/images/10?w=800", parameters={masked}
2025-11-27T20:16:05.317-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/images/5?w=800", parameters={masked}
2025-11-27T20:16:05.317-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/images/6?w=800", parameters={masked}
2025-11-27T20:16:05.317-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/images/4?w=800", parameters={masked}
2025-11-27T20:16:05.318-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ImageServingController#getImage(Long, Integer)
2025-11-27T20:16:05.318-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ImageServingController#getImage(Long, Integer)
2025-11-27T20:16:05.318-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ImageServingController#getImage(Long, Integer)
2025-11-27T20:16:05.318-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ImageServingController#getImage(Long, Integer)
2025-11-27T20:16:05.347-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:16:05.348-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductImageMetadataDTO(id=1, isPrimary=true, width=1024, height=1024, sizeBytes=866024), ProductIm (truncated)...]
2025-11-27T20:16:05.351-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:05.358-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /images/11?w=800
2025-11-27T20:16:05.360-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:16:05.361-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /images/11?w=800
2025-11-27T20:16:05.362-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/images/11?w=800", parameters={masked}
2025-11-27T20:16:05.364-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ImageServingController#getImage(Long, Integer)
2025-11-27T20:16:05.504-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:16:05.506-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductImageMetadataDTO(id=12, isPrimary=true, width=1024, height=1024, sizeBytes=836211), ProductI (truncated)...]
2025-11-27T20:16:05.515-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:05.530-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /images/1?w=800
2025-11-27T20:16:05.532-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:16:05.533-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /images/1?w=800
2025-11-27T20:16:05.534-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/images/1?w=800", parameters={masked}
2025-11-27T20:16:05.535-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ImageServingController#getImage(Long, Integer)
2025-11-27T20:16:05.997-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:image/png' in response
2025-11-27T20:16:05.999-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:image/png' in response
2025-11-27T20:16:06.002-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:image/png' in response
2025-11-27T20:16:06.006-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:image/png' in response
2025-11-27T20:16:06.008-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:image/png' in response
2025-11-27T20:16:06.022-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:image/png' in response
2025-11-27T20:16:06.122-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{-119, 80, 78, 71, 13, 10, 26, 10, 0, 0, 0, 13, 73, 72, 68, 82, 0, 0, 3, 32, 0, 0, 3, 32, 8, 2, 0, 0 (truncated)...]
2025-11-27T20:16:06.127-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:06.132-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /images/12?w=800
2025-11-27T20:16:06.133-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:16:06.134-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /images/12?w=800
2025-11-27T20:16:06.134-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/images/12?w=800", parameters={masked}
2025-11-27T20:16:06.135-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ImageServingController#getImage(Long, Integer)
2025-11-27T20:16:06.142-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{-119, 80, 78, 71, 13, 10, 26, 10, 0, 0, 0, 13, 73, 72, 68, 82, 0, 0, 3, 32, 0, 0, 3, 32, 8, 2, 0, 0 (truncated)...]
2025-11-27T20:16:06.318-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{-119, 80, 78, 71, 13, 10, 26, 10, 0, 0, 0, 13, 73, 72, 68, 82, 0, 0, 3, 32, 0, 0, 3, 32, 8, 2, 0, 0 (truncated)...]
2025-11-27T20:16:06.148-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:06.328-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:06.364-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{-119, 80, 78, 71, 13, 10, 26, 10, 0, 0, 0, 13, 73, 72, 68, 82, 0, 0, 3, 32, 0, 0, 3, 32, 8, 2, 0, 0 (truncated)...]
2025-11-27T20:16:06.373-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:06.373-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{-119, 80, 78, 71, 13, 10, 26, 10, 0, 0, 0, 13, 73, 72, 68, 82, 0, 0, 3, 32, 0, 0, 3, 32, 8, 2, 0, 0 (truncated)...]
2025-11-27T20:16:06.378-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:06.396-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{-119, 80, 78, 71, 13, 10, 26, 10, 0, 0, 0, 13, 73, 72, 68, 82, 0, 0, 3, 32, 0, 0, 3, 32, 8, 2, 0, 0 (truncated)...]
2025-11-27T20:16:06.399-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:06.771-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:image/png' in response
2025-11-27T20:16:06.899-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{-119, 80, 78, 71, 13, 10, 26, 10, 0, 0, 0, 13, 73, 72, 68, 82, 0, 0, 3, 32, 0, 0, 3, 32, 8, 2, 0, 0 (truncated)...]
2025-11-27T20:16:06.902-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:27.460-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/products/4
2025-11-27T20:16:27.462-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:16:27.463-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/products/4
2025-11-27T20:16:27.464-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/products/4", parameters={}
2025-11-27T20:16:27.465-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ProductController#get(Long)
2025-11-27T20:16:27.466-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-5] c.e.u.t.F.controllers.ProductController  : GET /products/4
2025-11-27T20:16:27.467-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] c.e.u.t.Farmacia.service.ProductService  : Fetching product with ID: 4
2025-11-27T20:16:27.467-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/products/4/images
2025-11-27T20:16:27.469-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:16:27.471-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/products/4/images
2025-11-27T20:16:27.473-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/products/4/images", parameters={}
2025-11-27T20:16:27.473-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ProductImageController#getImageMetadata(Long)
2025-11-27T20:16:27.484-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-5] c.e.u.t.F.controllers.ProductController  : Returning product DTO - name: Paracetamol 500mg, price: 3000.0, stock: 71
2025-11-27T20:16:27.495-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:16:27.496-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ProductDTO[id=4, name=Paracetamol 500mg, description=Caja x 16, price=3000.0, stock=71, discount=0.0 (truncated)...]
2025-11-27T20:16:27.498-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:27.545-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:16:27.546-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductImageMetadataDTO(id=5, isPrimary=true, width=1024, height=1024, sizeBytes=780428)]]
2025-11-27T20:16:27.547-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:27.561-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /images/5
2025-11-27T20:16:27.562-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:16:27.562-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /images/5
2025-11-27T20:16:27.563-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/images/5", parameters={}
2025-11-27T20:16:27.563-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ImageServingController#getImage(Long, Integer)
2025-11-27T20:16:27.626-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:image/png' in response
2025-11-27T20:16:27.740-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{-119, 80, 78, 71, 13, 10, 26, 10, 0, 0, 0, 13, 73, 72, 68, 82, 0, 0, 4, 0, 0, 0, 4, 0, 8, 2, 0, 0,  (truncated)...]
2025-11-27T20:16:27.743-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:46.141-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/auth/authenticate
2025-11-27T20:16:46.190-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/auth/authenticate
2025-11-27T20:16:46.191-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:16:46.191-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/auth/authenticate
2025-11-27T20:16:46.191-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authenticate", parameters={}
2025-11-27T20:16:46.192-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.auth.AuthenticationController#authenticate(AuthenticationRequest)
2025-11-27T20:16:46.239-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthenticationRequest(email=benjacosta@gmail.com, password=benja123)]
2025-11-27T20:16:46.450-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-11-27T20:16:46.453-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-2] c.e.u.t.F.service.AuthenticationService  : Usuario autenticado exitosamente: benjacosta@gmail.com
2025-11-27T20:16:46.472-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-27T20:16:46.472-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthenticationResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJiZW5qYWNvc3RhQGdtYWlsLmNvbSIsImlhdCI6MT (truncated)...]
2025-11-27T20:16:46.473-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:46.490-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/auth/me
2025-11-27T20:16:46.504-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/auth/me
2025-11-27T20:16:46.554-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/auth/me
2025-11-27T20:16:46.555-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/auth/me", parameters={}
2025-11-27T20:16:46.555-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.auth.AuthenticationController#me(Authentication)
2025-11-27T20:16:46.567-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-27T20:16:46.568-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserInfoResponse(id=29, email=benjacosta@gmail.com, name=benja Usuario, role=USER)]
2025-11-27T20:16:46.569-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:16:49.982-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/products
2025-11-27T20:16:49.989-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/products
2025-11-27T20:16:50.001-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/products
2025-11-27T20:16:50.002-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/products", parameters={}
2025-11-27T20:16:50.002-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ProductController#list(Long, String, Boolean, Boolean)
2025-11-27T20:16:50.003-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-7] c.e.u.t.F.controllers.ProductController  : GET /products - categoryId: null, q: 'null', inStock: null, rx: null
2025-11-27T20:16:50.003-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] c.e.u.t.Farmacia.service.ProductService  : Listing products with filters - categoryId: null, query: 'null', inStock: null, rx: null
2025-11-27T20:16:50.003-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] c.e.u.t.Farmacia.service.ProductService  : Fetching all products
2025-11-27T20:16:50.013-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-7] c.e.u.t.Farmacia.service.ProductService  : Returning 8 products
2025-11-27T20:16:50.013-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-7] c.e.u.t.F.controllers.ProductController  : Found 8 products
2025-11-27T20:16:50.013-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:16:50.014-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductDTO[id=1, name=Ibuprofeno 400mg, description=Caja x 10, price=3500.0, stock=171, discount=0. (truncated)...]
2025-11-27T20:16:50.019-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:17:04.810-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/payments/create-intent-temp
2025-11-27T20:17:04.816-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/payments/create-intent-temp
2025-11-27T20:17:04.834-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/payments/create-intent-temp
2025-11-27T20:17:04.834-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/payments/create-intent-temp", parameters={}
2025-11-27T20:17:04.834-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.PaymentController#createTemporaryPaymentIntent(CreatePaymentIntentRequest, Authentication)
2025-11-27T20:17:04.840-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CreatePaymentIntentRequest(amount=3, currency=usd, orderId=null)]
2025-11-27T20:17:06.248-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:17:06.248-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [PaymentIntentResponse(clientSecret=pi_3SYEQvKWO8G0hib61L03o82L_secret_lWOBAUHuU2hPWa39ZzFSg7geX, pay (truncated)...]
2025-11-27T20:17:06.250-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:17:33.128-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/categories
2025-11-27T20:17:33.134-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/products
2025-11-27T20:17:33.137-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/categories
2025-11-27T20:17:33.151-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/products
2025-11-27T20:17:33.164-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/categories
2025-11-27T20:17:33.166-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/categories", parameters={}
2025-11-27T20:17:33.167-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.CategoryControllers#getAll()
2025-11-27T20:17:33.168-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-7] c.e.u.t.F.c.CategoryControllers          : GET /categories - Fetching all categories
2025-11-27T20:17:33.168-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] c.e.u.t.F.service.CategoryService        : Fetching all categories
2025-11-27T20:17:33.180-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/products
2025-11-27T20:17:33.181-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/products", parameters={}
2025-11-27T20:17:33.182-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ProductController#list(Long, String, Boolean, Boolean)
2025-11-27T20:17:33.183-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-4] c.e.u.t.F.controllers.ProductController  : GET /products - categoryId: null, q: 'null', inStock: null, rx: null
2025-11-27T20:17:33.183-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] c.e.u.t.Farmacia.service.ProductService  : Listing products with filters - categoryId: null, query: 'null', inStock: null, rx: null
2025-11-27T20:17:33.183-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] c.e.u.t.Farmacia.service.ProductService  : Fetching all products
2025-11-27T20:17:33.184-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-7] c.e.u.t.F.service.CategoryService        : Found 4 categories
2025-11-27T20:17:33.184-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-7] c.e.u.t.F.c.CategoryControllers          : Found 4 categories
2025-11-27T20:17:33.185-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:17:33.185-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[CategoryResponse[id=1, name=Analg√©sicos y antiinflamatorios, description=Medicamentos de venta libr (truncated)...]
2025-11-27T20:17:33.186-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:17:33.203-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-4] c.e.u.t.Farmacia.service.ProductService  : Returning 8 products
2025-11-27T20:17:33.203-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-4] c.e.u.t.F.controllers.ProductController  : Found 8 products
2025-11-27T20:17:33.204-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:17:33.205-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductDTO[id=1, name=Ibuprofeno 400mg, description=Caja x 10, price=3500.0, stock=171, discount=0. (truncated)...]
2025-11-27T20:17:33.206-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:17:33.287-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/products/1/images
2025-11-27T20:17:33.291-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/products/3/images
2025-11-27T20:17:33.291-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/products/4/images
2025-11-27T20:17:33.293-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/products/5/images
2025-11-27T20:17:33.294-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/products/6/images
2025-11-27T20:17:33.295-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/products/9/images
2025-11-27T20:17:33.295-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/products/14/images
2025-11-27T20:17:33.296-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/products/1/images
2025-11-27T20:17:33.299-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/products/17/images
2025-11-27T20:17:33.302-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/products/3/images
2025-11-27T20:17:33.304-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/products/4/images
2025-11-27T20:17:33.307-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/products/5/images
2025-11-27T20:17:33.308-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/products/6/images
2025-11-27T20:17:33.308-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/products/9/images
2025-11-27T20:17:33.325-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/products/4/images
2025-11-27T20:17:33.325-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/products/3/images
2025-11-27T20:17:33.325-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/products/1/images
2025-11-27T20:17:33.326-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/products/3/images", parameters={}
2025-11-27T20:17:33.326-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/products/4/images", parameters={}
2025-11-27T20:17:33.326-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ProductImageController#getImageMetadata(Long)
2025-11-27T20:17:33.326-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/products/1/images", parameters={}
2025-11-27T20:17:33.327-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ProductImageController#getImageMetadata(Long)
2025-11-27T20:17:33.327-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ProductImageController#getImageMetadata(Long)
2025-11-27T20:17:33.328-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/products/6/images
2025-11-27T20:17:33.329-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/products/6/images", parameters={}
2025-11-27T20:17:33.330-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/products/5/images
2025-11-27T20:17:33.330-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/products/9/images
2025-11-27T20:17:33.330-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ProductImageController#getImageMetadata(Long)
2025-11-27T20:17:33.330-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/products/9/images", parameters={}
2025-11-27T20:17:33.330-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/products/5/images", parameters={}
2025-11-27T20:17:33.330-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ProductImageController#getImageMetadata(Long)
2025-11-27T20:17:33.330-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ProductImageController#getImageMetadata(Long)
2025-11-27T20:17:33.447-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:17:33.448-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductImageMetadataDTO(id=4, isPrimary=true, width=1024, height=1024, sizeBytes=760358)]]
2025-11-27T20:17:33.450-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:17:33.457-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/products/14/images
2025-11-27T20:17:33.458-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:17:33.458-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductImageMetadataDTO(id=5, isPrimary=true, width=1024, height=1024, sizeBytes=780428)]]
2025-11-27T20:17:33.458-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:17:33.458-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductImageMetadataDTO(id=6, isPrimary=true, width=1024, height=1024, sizeBytes=778975)]]
2025-11-27T20:17:33.459-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:17:33.461-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:17:33.470-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:17:33.472-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductImageMetadataDTO(id=10, isPrimary=true, width=1024, height=1024, sizeBytes=848682)]]
2025-11-27T20:17:33.472-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/products/17/images
2025-11-27T20:17:33.479-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:17:33.483-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:17:33.484-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductImageMetadataDTO(id=9, isPrimary=true, width=1024, height=1024, sizeBytes=818753)]]
2025-11-27T20:17:33.487-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:17:33.495-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/products/14/images
2025-11-27T20:17:33.496-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/products/14/images", parameters={}
2025-11-27T20:17:33.499-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ProductImageController#getImageMetadata(Long)
2025-11-27T20:17:33.524-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/products/17/images
2025-11-27T20:17:33.525-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/products/17/images", parameters={}
2025-11-27T20:17:33.525-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ProductImageController#getImageMetadata(Long)
2025-11-27T20:17:33.525-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /images/9?w=800
2025-11-27T20:17:33.527-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:17:33.528-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /images/9?w=800
2025-11-27T20:17:33.532-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/images/9?w=800", parameters={masked}
2025-11-27T20:17:33.534-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.ImageServingController#getImage(Long, Integer)
2025-11-27T20:17:33.579-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:17:33.579-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductImageMetadataDTO(id=1, isPrimary=true, width=1024, height=1024, sizeBytes=866024), ProductIm (truncated)...]
2025-11-27T20:17:33.581-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:17:33.611-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:17:33.612-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductImageMetadataDTO(id=11, isPrimary=true, width=1024, height=1024, sizeBytes=836211)]]
2025-11-27T20:17:33.613-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:17:33.698-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:17:33.699-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[ProductImageMetadataDTO(id=12, isPrimary=true, width=1024, height=1024, sizeBytes=836211), ProductI (truncated)...]
2025-11-27T20:17:33.700-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:17:33.860-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:image/png' in response
2025-11-27T20:17:33.935-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{-119, 80, 78, 71, 13, 10, 26, 10, 0, 0, 0, 13, 73, 72, 68, 82, 0, 0, 3, 32, 0, 0, 3, 32, 8, 2, 0, 0 (truncated)...]
2025-11-27T20:17:33.938-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:17:37.658-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/orders
2025-11-27T20:17:37.662-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/orders
2025-11-27T20:17:37.680-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/orders
2025-11-27T20:17:37.681-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/orders", parameters={}
2025-11-27T20:17:37.681-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.OrderController#myOrders(Authentication)
2025-11-27T20:17:37.682-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.uade.tpo.Farmacia.controllers.OrderController.myOrders(org.springframework.security.core.Authentication); target is of class [com.example.uade.tpo.Farmacia.controllers.OrderController]
2025-11-27T20:17:37.743-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.uade.tpo.Farmacia.controllers.OrderController.myOrders(org.springframework.security.core.Authentication); target is of class [com.example.uade.tpo.Farmacia.controllers.OrderController]
2025-11-27T20:17:37.743-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-4] c.e.u.t.F.controllers.OrderController    : üìã GET /api/v1/orders - Usuario: benjacosta@gmail.com
2025-11-27T20:17:37.817-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-4] c.e.u.t.F.service.impl.OrderServiceImpl  : üìã Consultando √≥rdenes para usuario: benjacosta@gmail.com - Encontradas: 55
2025-11-27T20:17:37.821-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-4] c.e.u.t.F.controllers.OrderController    : ‚úÖ √ìrdenes recuperadas - Usuario: benjacosta@gmail.com, Count: 55
2025-11-27T20:17:37.822-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:17:37.835-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[OrderDTO[id=73, status=PENDING, total=2500.0, items=[OrderItemDTO[productId=3, productName=Aspirina (truncated)...]
2025-11-27T20:17:37.848-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:17:49.518-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/auth/authenticate
2025-11-27T20:17:49.547-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/auth/authenticate
2025-11-27T20:17:49.548-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:17:49.548-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/auth/authenticate
2025-11-27T20:17:49.549-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authenticate", parameters={}
2025-11-27T20:17:49.549-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.auth.AuthenticationController#authenticate(AuthenticationRequest)
2025-11-27T20:17:49.550-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthenticationRequest(email=farma23@gmail.com, password=benja123)]
2025-11-27T20:17:49.653-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-11-27T20:17:49.655-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-9] c.e.u.t.F.service.AuthenticationService  : Usuario autenticado exitosamente: farma23@gmail.com
2025-11-27T20:17:49.657-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-27T20:17:49.657-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthenticationResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmYXJtYTIzQGdtYWlsLmNvbSIsImlhdCI6MTc2ND (truncated)...]
2025-11-27T20:17:49.657-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:17:49.673-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/auth/me
2025-11-27T20:17:49.680-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/auth/me
2025-11-27T20:17:49.694-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/auth/me
2025-11-27T20:17:49.695-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/auth/me", parameters={}
2025-11-27T20:17:49.695-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.auth.AuthenticationController#me(Authentication)
2025-11-27T20:17:49.706-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-27T20:17:49.706-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserInfoResponse(id=33, email=farma23@gmail.com, name=farma23, role=PHARMACIST)]
2025-11-27T20:17:49.707-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:17:53.265-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/orders/all
2025-11-27T20:17:53.270-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/orders/all
2025-11-27T20:17:53.293-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/orders/all
2025-11-27T20:17:53.293-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/orders/all", parameters={}
2025-11-27T20:17:53.294-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.OrderController#getAllOrders(Authentication)
2025-11-27T20:17:53.296-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.uade.tpo.Farmacia.controllers.OrderController.getAllOrders(org.springframework.security.core.Authentication); target is of class [com.example.uade.tpo.Farmacia.controllers.OrderController]
2025-11-27T20:17:53.297-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.uade.tpo.Farmacia.controllers.OrderController.getAllOrders(org.springframework.security.core.Authentication); target is of class [com.example.uade.tpo.Farmacia.controllers.OrderController]
2025-11-27T20:17:53.298-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-6] c.e.u.t.F.controllers.OrderController    : üîê GET /api/v1/orders/all - Admin/Farmac√©utico: farma23@gmail.com
2025-11-27T20:17:53.298-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-6] c.e.u.t.F.service.impl.OrderServiceImpl  : üîê Consultando TODAS las √≥rdenes del sistema (Admin/Farmac√©utico)
2025-11-27T20:17:53.340-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-6] c.e.u.t.F.service.impl.OrderServiceImpl  : ‚úÖ Total de √≥rdenes en el sistema: 73
2025-11-27T20:17:53.343-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-6] c.e.u.t.F.controllers.OrderController    : ‚úÖ Todas las √≥rdenes recuperadas - Admin: farma23@gmail.com, Total Orders: 73
2025-11-27T20:17:53.344-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:17:53.346-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[OrderDTO[id=73, status=PENDING, total=2500.0, items=[OrderItemDTO[productId=3, productName=Aspirina (truncated)...]
2025-11-27T20:17:53.349-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:20:32.694-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/auth/authenticate
2025-11-27T20:20:32.697-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/auth/authenticate
2025-11-27T20:20:32.698-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-27T20:20:32.699-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/auth/authenticate
2025-11-27T20:20:32.699-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authenticate", parameters={}
2025-11-27T20:20:32.699-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.auth.AuthenticationController#authenticate(AuthenticationRequest)
2025-11-27T20:20:32.700-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [AuthenticationRequest(email=admin@farmacia.com, password=Admin123!)]
2025-11-27T20:20:32.803-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-11-27T20:20:32.805-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-4] c.e.u.t.F.service.AuthenticationService  : Usuario autenticado exitosamente: admin@farmacia.com
2025-11-27T20:20:32.807-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-27T20:20:32.807-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [AuthenticationResponse(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbkBmYXJtYWNpYS5jb20iLCJpYXQiOjE3Nj (truncated)...]
2025-11-27T20:20:32.807-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:20:32.824-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/auth/me
2025-11-27T20:20:32.839-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/auth/me
2025-11-27T20:20:32.856-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/auth/me
2025-11-27T20:20:32.856-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/auth/me", parameters={}
2025-11-27T20:20:32.856-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.auth.AuthenticationController#me(Authentication)
2025-11-27T20:20:32.866-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-27T20:20:32.866-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserInfoResponse(id=22, email=admin@farmacia.com, name=Admin Sistema, role=ADMIN)]
2025-11-27T20:20:32.867-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:20:35.289-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/admin/roles
2025-11-27T20:20:35.289-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/admin/users
2025-11-27T20:20:35.295-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/admin/roles
2025-11-27T20:20:35.295-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/admin/users
2025-11-27T20:20:35.312-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/admin/users
2025-11-27T20:20:35.312-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/admin/roles
2025-11-27T20:20:35.312-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/admin/roles", parameters={}
2025-11-27T20:20:35.312-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/admin/users", parameters={}
2025-11-27T20:20:35.313-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.admin.AdminController#getAllRoles()
2025-11-27T20:20:35.313-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.admin.AdminController#getAllUsers()
2025-11-27T20:20:35.313-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.uade.tpo.Farmacia.controllers.admin.AdminController.getAllRoles(); target is of class [com.example.uade.tpo.Farmacia.controllers.admin.AdminController]
2025-11-27T20:20:35.313-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.uade.tpo.Farmacia.controllers.admin.AdminController.getAllUsers(); target is of class [com.example.uade.tpo.Farmacia.controllers.admin.AdminController]
2025-11-27T20:20:35.314-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.uade.tpo.Farmacia.controllers.admin.AdminController.getAllUsers(); target is of class [com.example.uade.tpo.Farmacia.controllers.admin.AdminController]
2025-11-27T20:20:35.314-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.example.uade.tpo.Farmacia.controllers.admin.AdminController.getAllRoles(); target is of class [com.example.uade.tpo.Farmacia.controllers.admin.AdminController]
2025-11-27T20:20:35.314-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-9] c.e.u.t.F.c.admin.AdminController        : üìã GET /api/v1/admin/roles - Listando roles
2025-11-27T20:20:35.314-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-6] c.e.u.t.F.c.admin.AdminController        : üìã GET /api/v1/admin/users - Listando usuarios
2025-11-27T20:20:35.315-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-6] c.e.u.t.F.service.AdminUserService       : üë• Listando todos los usuarios
2025-11-27T20:20:35.315-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-9] c.e.u.t.F.service.AdminUserService       : üìã Listando todos los roles
2025-11-27T20:20:35.327-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-9] c.e.u.t.F.c.admin.AdminController        : ‚úÖ 4 roles encontrados
2025-11-27T20:20:35.328-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:20:35.328-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[com.example.uade.tpo.Farmacia.controllers.dto.RoleDTO@3e6d2cbf, com.example.uade.tpo.Farmacia.contr (truncated)...]
2025-11-27T20:20:35.332-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:20:35.334-03:00  INFO 3203 --- [Farmacia] [http-nio-4002-exec-6] c.e.u.t.F.c.admin.AdminController        : ‚úÖ 17 usuarios encontrados
2025-11-27T20:20:35.342-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-11-27T20:20:35.345-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[AdminUserDTO[id=5, email=cliente@email.com, name=Maria Cliente, role=com.example.uade.tpo.Farmacia. (truncated)...]
2025-11-27T20:20:35.352-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:30:49.096-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/v1/auth/me
2025-11-27T20:30:49.101-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/v1/auth/me
2025-11-27T20:30:49.117-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/v1/auth/me
2025-11-27T20:30:49.117-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/v1/auth/me", parameters={}
2025-11-27T20:30:49.117-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.uade.tpo.Farmacia.controllers.auth.AuthenticationController#me(Authentication)
2025-11-27T20:30:49.127-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-11-27T20:30:49.127-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [UserInfoResponse(id=22, email=admin@farmacia.com, name=Admin Sistema, role=ADMIN)]
2025-11-27T20:30:49.128-03:00 DEBUG 3203 --- [Farmacia] [http-nio-4002-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-11-27T20:35:57.879-03:00  WARN 3203 --- [Farmacia] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=5m8s735ms).
2025-11-27T20:37:18.387-03:00  INFO 3203 --- [Farmacia] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-11-27T20:37:18.415-03:00  INFO 3203 --- [Farmacia] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-11-27T20:37:18.431-03:00  INFO 3203 --- [Farmacia] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-27T20:37:18.438-03:00  INFO 3203 --- [Farmacia] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-27T20:37:18.445-03:00  INFO 3203 --- [Farmacia] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
